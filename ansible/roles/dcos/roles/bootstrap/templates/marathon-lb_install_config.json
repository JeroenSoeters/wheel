{
  "packageName": "{{ marathon_lb_package_name }}",
  "packageVersion": "{{ marathon_lb_package_version }}",
  "options": {
    "{{ marathon_lb_package_name }}": {
      "auto-assign-service-ports": false,
      "maximumOverCapacity": 0.2,
      "role": "{{ marathon_lb_role }}",
      "name": "{{ marathon_lb_name }}",
      "cpus": {{ marathon_lb_cpus }},
      "haproxy-map": true,
      "mem": {{ marathon_lb_mem }},
      "bind-http-https": {{ marathon_lb_bind_http_https }},
      "marathon-uri": "http://master.mesos:8080",
      "minimumHealthCapacity": 0.5,
      "haproxy-group": "{{ marathon_lb_haproxy_group }}",
      "sysctl-params": "net.ipv4.tcp_tw_reuse=1 net.ipv4.tcp_fin_timeout=30 net.ipv4.tcp_max_syn_backlog=10240 net.ipv4.tcp_max_tw_buckets=400000 net.ipv4.tcp_max_orphans=60000 net.core.somaxconn=10000",
      "instances": {{ marathon_lb_count }}
    }
  }
}
